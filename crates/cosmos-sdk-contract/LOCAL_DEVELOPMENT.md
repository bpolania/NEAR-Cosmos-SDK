# Local Development Guide

## Environment Setup

Your local NEAR environment is now running with:
- **Network**: Sandbox/Localnet  
- **RPC URL**: http://localhost:3030
- **Router Contract**: `<your-account>.testnet`

## Environment Variables

Load the local environment:
```bash
source .env.local
```

## Available Commands

### Basic Operations
```bash
# Check router health
near view $ROUTER_ACCOUNT health_check

# View registered modules
near view $ROUTER_ACCOUNT get_modules

# Check balance
near view $ROUTER_ACCOUNT get_balance '{"account": "'"$ROUTER_ACCOUNT"'"}'

# Transfer tokens
near call $ROUTER_ACCOUNT transfer '{"receiver": "alice.test.near", "amount": "1000"}' --accountId $ROUTER_ACCOUNT
```

### IBC Operations
```bash
# Create IBC client (example)
near call $ROUTER_ACCOUNT ibc_create_client '{"chain_id": "test-chain", "trust_period": 86400, "unbonding_period": 172800, "max_clock_drift": 3600, "initial_header": {...}}' --accountId $ROUTER_ACCOUNT

# Query clients
near view $ROUTER_ACCOUNT get_all_clients
```

### WASM Operations
```bash
# Store WASM code
near call $ROUTER_ACCOUNT wasm_store_code '{"wasm_byte_code": [...], "source": "test", "builder": "test", "instantiate_permission": {"everybody": {}}}' --accountId $ROUTER_ACCOUNT

# List stored codes
near view $ROUTER_ACCOUNT wasm_list_codes '{"start_after": null, "limit": 10}'
```

## Development Workflow

1. **Make changes** to contract code
2. **Rebuild**: `cargo near build`
3. **Redeploy**: `near dev-deploy target/near/cosmos_sdk_near.wasm`
4. **Test**: Run your test commands
5. **Iterate**: Repeat as needed

## Debugging

- **View logs**: Check terminal output during contract calls
- **State inspection**: Use `near view` commands to inspect contract state
- **Gas optimization**: Monitor gas usage in transaction results

## Cleanup

To stop and cleanup:
```bash
# Stop sandbox (if running)
pkill -f near-sandbox

# Clean dev account
rm -rf neardev/
rm .env.local
```

## Next Steps

1. Test all module functionality locally
2. Run integration tests
3. Optimize gas usage
4. Deploy to testnet when ready

---
*Generated by deploy-local.sh on Wed Aug  6 01:49:53 PDT 2025*
